

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>lib package &mdash; Getting Unstuck Web  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="wsgi module" href="wsgi.html" />
    <link rel="prev" title="app module" href="app.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Getting Unstuck Web
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="app.html">app module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">lib package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.admin">lib.admin module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.authentication">lib.authentication module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.common">lib.common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.display">lib.display module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.project">lib.project module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.schema">lib.schema module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.scrape">lib.scrape module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.settings">lib.settings module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib.tasks">lib.tasks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-lib">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wsgi.html">wsgi module</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Getting Unstuck Web</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>lib package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lib.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lib-package">
<h1>lib package<a class="headerlink" href="#lib-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lib.admin">
<span id="lib-admin-module"></span><h2>lib.admin module<a class="headerlink" href="#module-lib.admin" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="lib.admin.get_info">
<code class="sig-prename descclassname">lib.admin.</code><code class="sig-name descname">get_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">page</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.admin.get_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the relevant information that would be used on a given admin page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>page</strong> (<em>str</em>) – name of the admin page.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary mapping keys of information to whatever that information is.
Empty dictionary if not a valid admin page name.
Purposely broad so as to be abstract-ish.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.admin.set_info">
<code class="sig-prename descclassname">lib.admin.</code><code class="sig-name descname">set_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">page</span></em>, <em class="sig-param"><span class="n">form</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.admin.set_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes server-side changes as needed, and returns updated field(s) as needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>str</em>) – name of the admin page.</p></li>
<li><p><strong>form</strong> (<em>dict</em>) – the form data being passed in from the client.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If successful, returns True. If not successful, returns False.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lib.authentication">
<span id="lib-authentication-module"></span><h2>lib.authentication module<a class="headerlink" href="#module-lib.authentication" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lib.authentication.User">
<em class="property">class </em><code class="sig-prename descclassname">lib.authentication.</code><code class="sig-name descname">User</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.authentication.User" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.document.Document</span></code></p>
<dl class="py exception">
<dt id="lib.authentication.User.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#lib.authentication.User.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="lib.authentication.User.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#lib.authentication.User.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.deleted">
<code class="sig-name descname">deleted</code><a class="headerlink" href="#lib.authentication.User.deleted" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean field type.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.1.2.</span></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.email">
<code class="sig-name descname">email</code><a class="headerlink" href="#lib.authentication.User.email" title="Permalink to this definition">¶</a></dt>
<dd><p>A field that validates input as an email address.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.4.</span></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.first_name">
<code class="sig-name descname">first_name</code><a class="headerlink" href="#lib.authentication.User.first_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#lib.authentication.User.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.joined">
<code class="sig-name descname">joined</code><a class="headerlink" href="#lib.authentication.User.joined" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime field.</p>
<p>Uses the python-dateutil library if available alternatively use time.strptime
to parse the dates.  Note: python-dateutil’s parser is fully featured and when
installed you can utilise it to convert varying types of date formats into valid
python datetime objects.</p>
<p>Note: To default the field to the current datetime, use: DateTimeField(default=datetime.utcnow)</p>
<dl class="simple">
<dt>Note: Microseconds are rounded to the nearest millisecond.</dt><dd><p>Pre UTC microsecond support is effectively broken.
Use <code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexDateTimeField</span></code> if you
need accurate microsecond support.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.last_name">
<code class="sig-name descname">last_name</code><a class="headerlink" href="#lib.authentication.User.last_name" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#lib.authentication.User.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.password">
<code class="sig-name descname">password</code><a class="headerlink" href="#lib.authentication.User.password" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.role">
<code class="sig-name descname">role</code><a class="headerlink" href="#lib.authentication.User.role" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.authentication.User.username">
<code class="sig-name descname">username</code><a class="headerlink" href="#lib.authentication.User.username" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="lib.authentication.admin_required">
<code class="sig-prename descclassname">lib.authentication.</code><code class="sig-name descname">admin_required</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.authentication.admin_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate routes to require login with admin role.</p>
</dd></dl>

<dl class="py function">
<dt id="lib.authentication.get_login_info">
<code class="sig-prename descclassname">lib.authentication.</code><code class="sig-name descname">get_login_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lib.authentication.get_login_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns session login info, if it exists. Else returns False.</p>
</dd></dl>

<dl class="py function">
<dt id="lib.authentication.login_required">
<code class="sig-prename descclassname">lib.authentication.</code><code class="sig-name descname">login_required</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.authentication.login_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate routes to require login.
<a class="reference external" href="http://flask.pocoo.org/docs/1.0/patterns/viewdecorators/">http://flask.pocoo.org/docs/1.0/patterns/viewdecorators/</a></p>
</dd></dl>

<dl class="py function">
<dt id="lib.authentication.login_user">
<code class="sig-prename descclassname">lib.authentication.</code><code class="sig-name descname">login_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">username</span></em>, <em class="sig-param"><span class="n">password</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.authentication.login_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs in a user, setting a session cookie to that effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> (<em>str</em>) – either username or email of user.</p></li>
<li><p><strong>password</strong> (<em>str</em>) – plaintext password of this login attempt.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, if able to log in. Else False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.authentication.register_user">
<code class="sig-prename descclassname">lib.authentication.</code><code class="sig-name descname">register_user</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.authentication.register_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a user to our database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> (<em>str</em>) – the username</p></li>
<li><p><strong>email</strong> (<em>str</em>) – the email</p></li>
<li><p><strong>first_name</strong> (<em>str</em>) – user’s first name</p></li>
<li><p><strong>last_name</strong> (<em>str</em>) – user’s last name</p></li>
<li><p><strong>password</strong> (<em>str</em>) – plaintext password</p></li>
<li><p><strong>role</strong> (<em>str</em>) – one of site_viewer or site_admin.
Optional; defaults to site_viewer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if user added successfully, else either False or a specific error message
to pass to the user.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lib.common">
<span id="lib-common-module"></span><h2>lib.common module<a class="headerlink" href="#module-lib.common" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="lib.common.connect_db">
<code class="sig-prename descclassname">lib.common.</code><code class="sig-name descname">connect_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.common.connect_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects to MongoDB using credentials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>credentials_file</strong> (<em>str</em>) – path to the credentials file,
or the Python dictionary containing the contents thereof.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MongoEngine connection instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.common.md">
<code class="sig-prename descclassname">lib.common.</code><code class="sig-name descname">md</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.common.md" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts Markdown to HTML, including Scratchblocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<em>str</em>) – the Markdown to convert.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string of HTML from the converted Markdown.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lib.display">
<span id="lib-display-module"></span><h2>lib.display module<a class="headerlink" href="#module-lib.display" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="lib.display.get_code_excerpt">
<code class="sig-prename descclassname">lib.display.</code><code class="sig-name descname">get_code_excerpt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">sc</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.display.get_code_excerpt" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a relevant code excerpt from a project based on the schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> (<em>dict</em>) – the project’s Mongoengine representation.</p></li>
<li><p><strong>schema</strong> (<em>dict</em>) – the schema’s Mongoengine representation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A tuple – first, a string of Scratchblocks syntax, then info about the relevant sprite.</p>
<p>Both will be blank if couldn’t find an example.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.display.get_comparisons">
<code class="sig-prename descclassname">lib.display.</code><code class="sig-name descname">get_comparisons</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">sc</span></em>, <em class="sig-param"><span class="n">count</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.display.get_comparisons" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets comparison projects based on the schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> (<em>dict</em>) – the Mongoengine representation of the project.</p></li>
<li><p><strong>sc</strong> (<em>dict</em>) – the Mongoengine representation of the schema.</p></li>
<li><p><strong>count</strong> (<em>int</em>) – the number of projects to return.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of projects, as stored in the database, to use as examples.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.display.get_project_page">
<code class="sig-prename descclassname">lib.display.</code><code class="sig-name descname">get_project_page</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pid</span></em>, <em class="sig-param"><span class="n">cache_directory</span><span class="o">=</span><span class="default_value">'cache'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.display.get_project_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a project page rendered in HTML given a project ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pid</strong> (<em>str</em>) – project ID.</p></li>
<li><p><strong>cache_directory</strong> (<em>str</em>) – the directory where cached projects are stored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string containing the HTML for the page.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lib.project">
<span id="lib-project-module"></span><h2>lib.project module<a class="headerlink" href="#module-lib.project" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="lib.project.display">
<code class="sig-prename descclassname">lib.project.</code><code class="sig-name descname">display</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pid</span></em>, <em class="sig-param"><span class="n">blocks_interest</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.project.display" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-lib.schema">
<span id="lib-schema-module"></span><h2>lib.schema module<a class="headerlink" href="#module-lib.schema" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lib.schema.Blockify">
<em class="property">class </em><code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">Blockify</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.Blockify" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.document.EmbeddedDocument</span></code></p>
<dl class="py attribute">
<dt id="lib.schema.Blockify.comments">
<code class="sig-name descname">comments</code><a class="headerlink" href="#lib.schema.Blockify.comments" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Blockify.costumes">
<code class="sig-name descname">costumes</code><a class="headerlink" href="#lib.schema.Blockify.costumes" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Blockify.sounds">
<code class="sig-name descname">sounds</code><a class="headerlink" href="#lib.schema.Blockify.sounds" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Blockify.sprites">
<code class="sig-name descname">sprites</code><a class="headerlink" href="#lib.schema.Blockify.sprites" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Blockify.variables">
<code class="sig-name descname">variables</code><a class="headerlink" href="#lib.schema.Blockify.variables" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lib.schema.Challenge">
<em class="property">class </em><code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">Challenge</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.Challenge" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.document.Document</span></code></p>
<dl class="py exception">
<dt id="lib.schema.Challenge.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#lib.schema.Challenge.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="lib.schema.Challenge.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#lib.schema.Challenge.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.comparison_basis">
<code class="sig-name descname">comparison_basis</code><a class="headerlink" href="#lib.schema.Challenge.comparison_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary field that wraps a standard Python dictionary. This is
similar to an embedded document, but the structure is not defined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for DictFields is {}</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>- Can now handle complex / varying types of data</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.description">
<code class="sig-name descname">description</code><a class="headerlink" href="#lib.schema.Challenge.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#lib.schema.Challenge.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.min_blockify">
<code class="sig-name descname">min_blockify</code><a class="headerlink" href="#lib.schema.Challenge.min_blockify" title="Permalink to this definition">¶</a></dt>
<dd><p>An embedded document field - with a declared document_type.
Only valid values are subclasses of <code class="xref py py-class docutils literal notranslate"><span class="pre">EmbeddedDocument</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.min_comments_made">
<code class="sig-name descname">min_comments_made</code><a class="headerlink" href="#lib.schema.Challenge.min_comments_made" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.min_description_length">
<code class="sig-name descname">min_description_length</code><a class="headerlink" href="#lib.schema.Challenge.min_description_length" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.min_instructions_length">
<code class="sig-name descname">min_instructions_length</code><a class="headerlink" href="#lib.schema.Challenge.min_instructions_length" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.modified">
<code class="sig-name descname">modified</code><a class="headerlink" href="#lib.schema.Challenge.modified" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime field.</p>
<p>Uses the python-dateutil library if available alternatively use time.strptime
to parse the dates.  Note: python-dateutil’s parser is fully featured and when
installed you can utilise it to convert varying types of date formats into valid
python datetime objects.</p>
<p>Note: To default the field to the current datetime, use: DateTimeField(default=datetime.utcnow)</p>
<dl class="simple">
<dt>Note: Microseconds are rounded to the nearest millisecond.</dt><dd><p>Pre UTC microsecond support is effectively broken.
Use <code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexDateTimeField</span></code> if you
need accurate microsecond support.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#lib.schema.Challenge.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.required_block_categories">
<code class="sig-name descname">required_block_categories</code><a class="headerlink" href="#lib.schema.Challenge.required_block_categories" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary field that wraps a standard Python dictionary. This is
similar to an embedded document, but the structure is not defined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for DictFields is {}</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>- Can now handle complex / varying types of data</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.required_blocks">
<code class="sig-name descname">required_blocks</code><a class="headerlink" href="#lib.schema.Challenge.required_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>A list field that wraps a standard field, allowing multiple instances
of the field to be used as a list in the database.</p>
<p>If using with ReferenceFields see: <span class="xref std std-ref">one-to-many-with-listfields</span></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for ListFields is []</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.required_blocks_failure">
<code class="sig-name descname">required_blocks_failure</code><a class="headerlink" href="#lib.schema.Challenge.required_blocks_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.required_text">
<code class="sig-name descname">required_text</code><a class="headerlink" href="#lib.schema.Challenge.required_text" title="Permalink to this definition">¶</a></dt>
<dd><p>A list field that wraps a standard field, allowing multiple instances
of the field to be used as a list in the database.</p>
<p>If using with ReferenceFields see: <span class="xref std std-ref">one-to-many-with-listfields</span></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for ListFields is []</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.required_text_failure">
<code class="sig-name descname">required_text_failure</code><a class="headerlink" href="#lib.schema.Challenge.required_text_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.short_label">
<code class="sig-name descname">short_label</code><a class="headerlink" href="#lib.schema.Challenge.short_label" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.text">
<code class="sig-name descname">text</code><a class="headerlink" href="#lib.schema.Challenge.text" title="Permalink to this definition">¶</a></dt>
<dd><p>An embedded document field - with a declared document_type.
Only valid values are subclasses of <code class="xref py py-class docutils literal notranslate"><span class="pre">EmbeddedDocument</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.Challenge.title">
<code class="sig-name descname">title</code><a class="headerlink" href="#lib.schema.Challenge.title" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lib.schema.ResultText">
<em class="property">class </em><code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">ResultText</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.ResultText" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.document.EmbeddedDocument</span></code></p>
<dl class="py attribute">
<dt id="lib.schema.ResultText.comparison_framing_text">
<code class="sig-name descname">comparison_framing_text</code><a class="headerlink" href="#lib.schema.ResultText.comparison_framing_text" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.ResultText.comparison_reflection_text">
<code class="sig-name descname">comparison_reflection_text</code><a class="headerlink" href="#lib.schema.ResultText.comparison_reflection_text" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.ResultText.concluding_text">
<code class="sig-name descname">concluding_text</code><a class="headerlink" href="#lib.schema.ResultText.concluding_text" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.ResultText.explanation">
<code class="sig-name descname">explanation</code><a class="headerlink" href="#lib.schema.ResultText.explanation" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.schema.ResultText.prompt_framing_text">
<code class="sig-name descname">prompt_framing_text</code><a class="headerlink" href="#lib.schema.ResultText.prompt_framing_text" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="lib.schema.add_schema">
<code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">add_schema</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mins</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">min_blockify</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">required_text</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">required_block_categories</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">required_blocks</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">required_blocks_failure</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">required_text_failure</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">comparison_basis</span><span class="o">=</span><span class="default_value">{'basis': '__none__', 'priority': []}</span></em>, <em class="sig-param"><span class="n">short_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">description</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">text</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.add_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new challenge schema to the database. No arguments are required; but passing in no arguments is pretty useless.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mins</strong> (<em>dict</em>) – a dictionary mapping meta names from the set
{“instructions_length”, “description_length”, “comments_made”} to minimum values.</p></li>
<li><p><strong>min_blockify</strong> (<em>dict</em>) – a dictionary mapping blockify names from the set
{“comments”, “costumes”, “sounds”, “sprites”, “variables”} to minimum counts.</p></li>
<li><p><strong>required_text</strong> (<em>list</em>) – a list of lists. If thought about as a list of shape (i, j),
then required_text[i][j] is one option, along with required_text[i][j + 1] etc.,
to satisfy required_text[i]. All required_text[i] must be satisfied to pass overall.</p></li>
<li><p><strong>required_block_categories</strong> (<em>dict</em>) – a dict, mapping category name to minimum count
for respective category.</p></li>
<li><p><strong>required_blocks</strong> (<em>list</em>) – a list of dicts. Each dict maps opcode to minimum count.
To satisfy overall requirement, at least one requirement in each dict must be
satisfied. (That is, the list functions as “AND”; the dict functions as “OR”.)</p></li>
<li><p><strong>require_blocks_failure</strong> (<em>str</em>) – the failure message to show if block requirement isn’t met.</p></li>
<li><p><strong>require_text_failure</strong> (<em>str</em>) – the failure message to show if text requirement isn’t met.</p></li>
<li><p><strong>comparison_basis</strong> (<em>str</em>) – determines what to base code excerpts on. Must be from set of
{“__none__”, “required_text”, “required_blocks”, “required_block_categories”}</p></li>
<li><p><strong>short_label</strong> (<em>str</em>) – the short label descriptor of the prompt.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – the title of the prompt.</p></li>
<li><p><strong>description</strong> (<em>str</em>) – the description of the prompt.</p></li>
<li><p><strong>text</strong> (<em>dict</em>) – a dictionary mapping results page text items from the set
{“explanation”, “concluding_text”, “comparison_reflection_text”, “comparison_framing_text”, “prompt_framing_text”}</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The object ID of the new challenge schema in the database. False if the arguments
violate the validation schema.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.schema.get_schema">
<code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">get_schema</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema_id</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.get_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a schema from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schema_id</strong> (<em>str</em>) – the ID of the schema.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary representation of the schema.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.schema.valid_comparison_basis">
<code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">valid_comparison_basis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.valid_comparison_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises a ValidationError if doesn’t meet format for comparison_basis.</p>
</dd></dl>

<dl class="py function">
<dt id="lib.schema.valid_required_blocks">
<code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">valid_required_blocks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.valid_required_blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises a ValidationError if doesn’t meet format for required_blocks.</p>
</dd></dl>

<dl class="py function">
<dt id="lib.schema.valid_required_text">
<code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">valid_required_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">param</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.valid_required_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises a ValidationError if doesn’t meet format for required_text.</p>
</dd></dl>

<dl class="py function">
<dt id="lib.schema.validate_project">
<code class="sig-prename descclassname">lib.schema.</code><code class="sig-name descname">validate_project</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">schema</span></em>, <em class="sig-param"><span class="n">project</span></em>, <em class="sig-param"><span class="n">studio_id</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.schema.validate_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if the project meets the standards of a given schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>schema</strong> – The validation schema. Can be given by its ID in the
database or with a dictionary representing its values.</p></li>
<li><p><strong>project</strong> – The project. Given as either the Mongo object or the project_id.</p></li>
<li><p><strong>studio_id</strong> (<em>int</em>) – The studio ID.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A modified version of the validation schema, revealing whether each requirement was met.
False if couldn’t successfully validate the project, as when there’s no valid schema.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lib.scrape">
<span id="lib-scrape-module"></span><h2>lib.scrape module<a class="headerlink" href="#module-lib.scrape" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="lib.scrape.Comment">
<em class="property">class </em><code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">Comment</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.Comment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.document.Document</span></code></p>
<dl class="py exception">
<dt id="lib.scrape.Comment.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#lib.scrape.Comment.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="lib.scrape.Comment.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#lib.scrape.Comment.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Comment.author">
<code class="sig-name descname">author</code><a class="headerlink" href="#lib.scrape.Comment.author" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Comment.comment_id">
<code class="sig-name descname">comment_id</code><a class="headerlink" href="#lib.scrape.Comment.comment_id" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Comment.content">
<code class="sig-name descname">content</code><a class="headerlink" href="#lib.scrape.Comment.content" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Comment.date">
<code class="sig-name descname">date</code><a class="headerlink" href="#lib.scrape.Comment.date" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime field.</p>
<p>Uses the python-dateutil library if available alternatively use time.strptime
to parse the dates.  Note: python-dateutil’s parser is fully featured and when
installed you can utilise it to convert varying types of date formats into valid
python datetime objects.</p>
<p>Note: To default the field to the current datetime, use: DateTimeField(default=datetime.utcnow)</p>
<dl class="simple">
<dt>Note: Microseconds are rounded to the nearest millisecond.</dt><dd><p>Pre UTC microsecond support is effectively broken.
Use <code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexDateTimeField</span></code> if you
need accurate microsecond support.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Comment.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#lib.scrape.Comment.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Comment.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#lib.scrape.Comment.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Comment.project_id">
<code class="sig-name descname">project_id</code><a class="headerlink" href="#lib.scrape.Comment.project_id" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Comment.recipient">
<code class="sig-name descname">recipient</code><a class="headerlink" href="#lib.scrape.Comment.recipient" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lib.scrape.Project">
<em class="property">class </em><code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">Project</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.document.Document</span></code></p>
<dl class="py exception">
<dt id="lib.scrape.Project.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#lib.scrape.Project.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="lib.scrape.Project.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#lib.scrape.Project.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.author">
<code class="sig-name descname">author</code><a class="headerlink" href="#lib.scrape.Project.author" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.cache_expires">
<code class="sig-name descname">cache_expires</code><a class="headerlink" href="#lib.scrape.Project.cache_expires" title="Permalink to this definition">¶</a></dt>
<dd><p>Datetime field.</p>
<p>Uses the python-dateutil library if available alternatively use time.strptime
to parse the dates.  Note: python-dateutil’s parser is fully featured and when
installed you can utilise it to convert varying types of date formats into valid
python datetime objects.</p>
<p>Note: To default the field to the current datetime, use: DateTimeField(default=datetime.utcnow)</p>
<dl class="simple">
<dt>Note: Microseconds are rounded to the nearest millisecond.</dt><dd><p>Pre UTC microsecond support is effectively broken.
Use <code class="xref py py-class docutils literal notranslate"><span class="pre">ComplexDateTimeField</span></code> if you
need accurate microsecond support.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.description">
<code class="sig-name descname">description</code><a class="headerlink" href="#lib.scrape.Project.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.history">
<code class="sig-name descname">history</code><a class="headerlink" href="#lib.scrape.Project.history" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary field that wraps a standard Python dictionary. This is
similar to an embedded document, but the structure is not defined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for DictFields is {}</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>- Can now handle complex / varying types of data</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#lib.scrape.Project.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.instructions">
<code class="sig-name descname">instructions</code><a class="headerlink" href="#lib.scrape.Project.instructions" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#lib.scrape.Project.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.project_id">
<code class="sig-name descname">project_id</code><a class="headerlink" href="#lib.scrape.Project.project_id" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.remix">
<code class="sig-name descname">remix</code><a class="headerlink" href="#lib.scrape.Project.remix" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary field that wraps a standard Python dictionary. This is
similar to an embedded document, but the structure is not defined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for DictFields is {}</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>- Can now handle complex / varying types of data</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.stats">
<code class="sig-name descname">stats</code><a class="headerlink" href="#lib.scrape.Project.stats" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary field that wraps a standard Python dictionary. This is
similar to an embedded document, but the structure is not defined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for DictFields is {}</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>- Can now handle complex / varying types of data</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.studio_id">
<code class="sig-name descname">studio_id</code><a class="headerlink" href="#lib.scrape.Project.studio_id" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.title">
<code class="sig-name descname">title</code><a class="headerlink" href="#lib.scrape.Project.title" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Project.validation">
<code class="sig-name descname">validation</code><a class="headerlink" href="#lib.scrape.Project.validation" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary field that wraps a standard Python dictionary. This is
similar to an embedded document, but the structure is not defined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for DictFields is {}</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>- Can now handle complex / varying types of data</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="lib.scrape.Studio">
<em class="property">class </em><code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">Studio</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">values</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.Studio" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.document.Document</span></code></p>
<dl class="py exception">
<dt id="lib.scrape.Studio.DoesNotExist">
<em class="property">exception </em><code class="sig-name descname">DoesNotExist</code><a class="headerlink" href="#lib.scrape.Studio.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.DoesNotExist</span></code></p>
</dd></dl>

<dl class="py exception">
<dt id="lib.scrape.Studio.MultipleObjectsReturned">
<em class="property">exception </em><code class="sig-name descname">MultipleObjectsReturned</code><a class="headerlink" href="#lib.scrape.Studio.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">mongoengine.errors.MultipleObjectsReturned</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.challenge_id">
<code class="sig-name descname">challenge_id</code><a class="headerlink" href="#lib.scrape.Studio.challenge_id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.description">
<code class="sig-name descname">description</code><a class="headerlink" href="#lib.scrape.Studio.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#lib.scrape.Studio.id" title="Permalink to this definition">¶</a></dt>
<dd><p>A field wrapper around MongoDB’s ObjectIds.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.objects">
<code class="sig-name descname">objects</code><a class="headerlink" href="#lib.scrape.Studio.objects" title="Permalink to this definition">¶</a></dt>
<dd><p>The default QuerySet Manager.</p>
<p>Custom QuerySet Manager functions can extend this class and users can
add extra queryset functionality.  Any custom manager methods must accept a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Document</span></code> class as its first argument, and a
<code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code> as its second argument.</p>
<p>The method function should return a <code class="xref py py-class docutils literal notranslate"><span class="pre">QuerySet</span></code>
, probably the same one that was passed in, but modified in some way.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.public_show">
<code class="sig-name descname">public_show</code><a class="headerlink" href="#lib.scrape.Studio.public_show" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean field type.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.1.2.</span></p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.stats">
<code class="sig-name descname">stats</code><a class="headerlink" href="#lib.scrape.Studio.stats" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary field that wraps a standard Python dictionary. This is
similar to an embedded document, but the structure is not defined.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Required means it cannot be empty - as the default for DictFields is {}</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>- Can now handle complex / varying types of data</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.status">
<code class="sig-name descname">status</code><a class="headerlink" href="#lib.scrape.Studio.status" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.studio_id">
<code class="sig-name descname">studio_id</code><a class="headerlink" href="#lib.scrape.Studio.studio_id" title="Permalink to this definition">¶</a></dt>
<dd><p>32-bit integer field.</p>
</dd></dl>

<dl class="py attribute">
<dt id="lib.scrape.Studio.title">
<code class="sig-name descname">title</code><a class="headerlink" href="#lib.scrape.Studio.title" title="Permalink to this definition">¶</a></dt>
<dd><p>A unicode string field.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="lib.scrape.add_comments">
<code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">add_comments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project_id</span></em>, <em class="sig-param"><span class="n">username</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.add_comments" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a project’s comments into the database. These are public comments on the project itself, not code comments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_id</strong> (<em>int</em>) – the ID of the project whose comments we’re scraping.</p></li>
<li><p><strong>username</strong> (<em>str</em>) – the username of the user who created the project.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.scrape.add_project">
<code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">add_project</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project_id</span></em>, <em class="sig-param"><span class="n">studio_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">cache_directory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.add_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a project into the database after scraping it. Updates existing database entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_id</strong> (<em>int</em>) – the ID of the project to scrape.</p></li>
<li><p><strong>studio_id</strong> (<em>int</em>) – the studio ID with which this project should be associated.</p></li>
<li><p><strong>cache_directory</strong> (<em>str</em>) – if set, will save this project
JSON into the cache directory specified.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True, if a new insertion or if updated a record. False if Scratch 2.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>IOError</strong> – if couldn’t write the JSON file to the given cache_directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.scrape.get_project">
<code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">get_project</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project_id</span></em>, <em class="sig-param"><span class="n">cache_directory</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.get_project" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a project from database and cache (if available).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_id</strong> (<em>int</em>) – the ID of the project to retrieve.</p></li>
<li><p><strong>cache_directory</strong> (<em>str</em>) – if set, will get the project in JSON form.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple, the first element being the database object as a dictionary, the second the Scratch project as a dictionary.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ArgumentError</strong><strong>, </strong><strong>if project_id can't be cast to an integer.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.scrape.get_project_from_cache">
<code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">get_project_from_cache</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">project_id</span></em>, <em class="sig-param"><span class="n">cache_directory</span><span class="o">=</span><span class="default_value">'cache'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.get_project_from_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a project from the cache.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_id</strong> (<em>int</em>) – the ID of the project to retrieve.</p></li>
<li><p><strong>cache_directory</strong> (<em>str</em>) – if set, will get the project in JSON form.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The project as a dictionary. Empty if unavailable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.scrape.get_projects_with_block">
<code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">get_projects_with_block</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">opcode</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">studio_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.get_projects_with_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds projects with given opcode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opcode</strong> (<em>str</em>) – Scratch opcodes for the block type.</p></li>
<li><p><strong>project_id</strong> (<em>int</em>) – exclude this project from the search.</p></li>
<li><p><strong>studio_id</strong> (<em>int</em>) – limit to projects in this studio.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of projects, as stored in the database, with that opcode.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.scrape.get_projects_with_category">
<code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">get_projects_with_category</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">category</span></em>, <em class="sig-param"><span class="n">count</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">project_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">studio_id</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.get_projects_with_category" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds projects with given category.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category</strong> (<em>str</em>) – block category name.</p></li>
<li><p><strong>count</strong> (<em>int</em>) – minimum block count for that category.</p></li>
<li><p><strong>project_id</strong> (<em>int</em>) – exclude this project from the search.</p></li>
<li><p><strong>studio_id</strong> (<em>int</em>) – limit to projects in this studio.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A QuerySet of projects, as stored in the database, with at least the given count of blocks of the given category.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.scrape.get_studio">
<code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">get_studio</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">studio_id</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.get_studio" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a studio from database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>studio_id</strong> (<em>int</em>) – the ID of the studio to retrieve.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The studio as a dictionary.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ArgumentError</strong><strong>, </strong><strong>if studio_id can't be cast to an integer.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lib.scrape.get_studio_stats">
<code class="sig-prename descclassname">lib.scrape.</code><code class="sig-name descname">get_studio_stats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">studio_id</span></em>, <em class="sig-param"><span class="n">credentials_file</span><span class="o">=</span><span class="default_value">'secure/db.json'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.scrape.get_studio_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of statistics about a studio.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>studio_id</strong> (<em>int</em>) – the ID of the studio to scrape.</p></li>
<li><p><strong>credentials_file</strong> (<em>str</em>) – path to the database credentials file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary of statistics, including mean, min, and max.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lib.settings">
<span id="lib-settings-module"></span><h2>lib.settings module<a class="headerlink" href="#module-lib.settings" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lib.tasks">
<span id="lib-tasks-module"></span><h2>lib.tasks module<a class="headerlink" href="#module-lib.tasks" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="lib.tasks.make_celery">
<code class="sig-prename descclassname">lib.tasks.</code><code class="sig-name descname">make_celery</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">backend</span></em>, <em class="sig-param"><span class="n">broker</span></em>, <em class="sig-param"><span class="n">app</span></em><span class="sig-paren">)</span><a class="headerlink" href="#lib.tasks.make_celery" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the Celery app. <a class="reference external" href="https://flask.palletsprojects.com/en/1.1.x/patterns/celery/">https://flask.palletsprojects.com/en/1.1.x/patterns/celery/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – the name of the app.</p></li>
<li><p><strong>backend</strong> (<em>str</em>) – the URI of the backend.</p></li>
<li><p><strong>broker</strong> (<em>str</em>) – the URI of the broker.</p></li>
<li><p><strong>app</strong> (<em>Flask.app</em>) – the Flask app we’re adding the Celery instance to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of celery.Celery.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lib">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lib" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="wsgi.html" class="btn btn-neutral float-right" title="wsgi module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="app.html" class="btn btn-neutral float-left" title="app module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Creative Computing Lab

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>