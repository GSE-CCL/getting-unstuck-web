{% extends "layout.html" %}
{% block title %}{{ project["title"] }} &minus; {% endblock %}

{% block main_content %}
<div class="row">
    <div class="col-12">
        <h1>
            {{ project["title"] }}
        </h1>
        <h5>
            by <a href="/user/{{ project['author'] }}">{{ project["author"] }}</a> &diams;
            part of <a href="/studio/{{ studio['studio_id'] }}">{{ studio["title"] }}</a>
        </h5>
        <p>
            <a href="https://scratch.mit.edu/projects/{{ project['project_id'] }}" target="_blank">View project on Scratch</a>
        </p>
        {% if "stats" in studio and "max" in studio["stats"]: %}
        <h5>You made a project for {{ project["title"] }}! The Day 15 Prompt was: </h5>
        <p class="block" style="text-align:center">Create a project that when multiple conditions have been satisfied, a secret is revealed.</p>

        <p class="block">There are many ways to create a project that addresses this prompt. Nearly all projects will incorporate the use of 
            conditional Control blocks, which can be used when a conditions has been met:</p>
        
        <div class="container" style="margin-left: 100px; margin-right: 100px">
            <div class="row">
                <div class="col-sm">
                    <code class="conditional1 nobreak">
                        if <> then
                        end
                    </code>
                </div>
                <div class="col-sm">
                    <code class="conditional2 nobreak">
                        if <> then
                        else
                        end
                    </code>
                </div>
                <div class="col-sm">
                    <code class="conditional3 nobreak">
                        repeat until <>
                        end
                    </code>
                </div>
                <div class="col-sm">
                    <code class="conditional4 nobreak">
                        wait until <>
                    </code>
                </div>
            </div>
        </div>

        <p class="block" style="text-align: center"> In your project, you used 
            {% if project["stats"]["categories"]["control"] > 1 %}
                multiple control blocks! Nice!        
            {% elif project["stats"]["categories"]["control"] == 1 %}
                one control block. 
            {% else %}
                zero control blocks. 
            {% endif %}
        </p>
        {% if results["categories"]["control"] >= 1 %}

            <p class="block">For example, you programmed the sprite <span class="sprite-color"> {{ sprite["name"] }} </span>to do the following:</p>
        

        <div class="container" style="margin-left: 100px; margin-right: 100px">
            <div class="row">
                <div class="col-4 d-flex justify-content-center">
                    <a href="https://scratch.mit.edu/projects/{{ project['project_id'] }}/editor"><code class="project">        
                        {{ text }}
                    </code></a>
                </div>
                <div class="col-4 d-flex justify-content-center">
                    <a href="https://scratch.mit.edu/projects/{{ project['project_id'] }}/editor"><img src= "{{ sprite['costume_asset_url'] }}" class="sprite"></img></a>
                </div>
            </div>
        </div> 
        {% elif results["categories"]["control"] == 0 %}
        <p class="block">In this project, we were looking for the use of conditional blocks, such as the examples shown above. However, it's possible that you 
            were able to think of a creative solution to today's prompt. We encourage you to take a look at other's projects for inspiration!
        </p>
        {% endif %}

        <!-- <div class="tabs">
            <input name="tabs" type="radio" id="tab-1" checked="checked" class="input"/>
            <label for="tab-1" class="label">Orange</label>
            <div class="panel">
              <h1>Orange</h1>
              <p>The orange (specifically, the sweet orange) is the fruit of the citrus species Citrus × sinensis in the family Rutaceae</p>
              <p>The fruit of the Citrus × sinensis is considered a sweet orange, whereas the fruit of the Citrus × aurantium is considered a bitter orange. The sweet orange reproduces asexually (apomixis through nucellar embryony); varieties of sweet orange arise through mutations.</p>
            </div>
          
            <input name="tabs" type="radio" id="tab-2" class="input"/>
            <label for="tab-2" class="label">Tangerine</label>
            <div class="panel">
              <h1>Tangerine</h1>
              <p>The tangerine (Citrus tangerina) is an orange-colored citrus fruit that is closely related to, or possibly a type of, mandarin orange (Citrus reticulata).</p>
              <p>The name was first used for fruit coming from Tangier, Morocco, described as a mandarin variety. Under the Tanaka classification system, Citrus tangerina is considered a separate species.</p>
            </div>
          
            <input name="tabs" type="radio" id="tab-3" class="input"/>
            <label for="tab-3" class="label">Clemantine</label>
            <div class="panel">
              <h1>Clemantine</h1>
              <p>A clementine (Citrus ×clementina) is a hybrid between a mandarin orange and a sweet orange, so named in 1902. The exterior is a deep orange colour with a smooth, glossy appearance. Clementines can be separated into 7 to 14 segments. Similarly to tangerines, they tend to be easy to peel.</p>
            </div>
          </div> -->
          {%  for number in range(3) %}
          <br><p class="block" style="text-align: center">Check out how <a href="https://scratch.mit.edu/users/{{ comparisons[number]['username'] }}/">@{{ comparisons[number]["username"] }}</a> used conditionals for this project 
            with the sprite <span class="sprite-color"> {{ comparisons[number]["sprite"]["name"] }}</span>!</p><br><br>
            <div class="container" style="margin-left: 100px; margin-right: 100px">
                <div class="row">
                    <div class="col-4 d-flex justify-content-center">
                        <a href="https://scratch.mit.edu/projects/{{ comparisons[number]['pid'] }}/editor"><code class="comparison">
                            {{ comparisons[number]["text"] }}
                        </code></a>
                    </div>
                    <div class="col-4 d-flex justify-content-center">
                        <a href="https://scratch.mit.edu/projects/{{ comparisons[number]['pid'] }}/editor"><img src= "{{ comparisons[number]['sprite']['costume_asset_url'] }}" class="sprite"></img></a>
                    </div>
                </div>
            </div>
            <br><p class="block"style="text-align: center">Did you like the way <a href="https://scratch.mit.edu/users/{{ comparisons[number]['username'] }}/">@{{ comparisons[number]["username"] }} </a> used conditionals in their project? 
                Leave them a <a href="https://scratch.mit.edu/projects/{{ comparisons[number]['pid'] }}">comment here</a> to tell them what you think! </p>
    
            <p style="font-weight:600; text-align:center">----------------------------</p>
          {% endfor %}
       <!-- <br><br><p class="block" style="text-align: center">Check out how <a href="https://scratch.mit.edu/users/{{ comparisons[0]['username'] }}/">@{{ comparisons[0]["username"] }}</a> used conditionals for this project 
        with the sprite <span class="sprite-color"> {{ comparisons[0]["sprite"]["name"] }}</span>!</p><br><br>
        <div class="container" style="margin-left: 100px; margin-right: 100px">
            <div class="row">
                <div class="col-4 d-flex justify-content-center">
                    <a href="https://scratch.mit.edu/projects/{{ comparisons[0]['pid'] }}/editor"><code class="comparison">
                        {{ comparisons[0]["text"] }}
                    </code></a>
                </div>
                <div class="col-4 d-flex justify-content-center">
                    <a href="https://scratch.mit.edu/projects/{{ comparisons[0]['pid'] }}/editor"><img src= "{{ comparisons[0]['sprite']['costume_asset_url'] }}" class="sprite"></img></a>
                </div>
            </div>
        </div>
        <br><br><p class="block"style="text-align: center">Did you like the way <a href="https://scratch.mit.edu/users/{{ comparisons[0]['username'] }}/">@{{ comparisons[0]["username"] }} </a> used conditionals in their project? 
            Leave them a <a href="https://scratch.mit.edu/projects/{{ comp_pid }}">comment here</a> to tell them what you think! </p> -->

        <p class="block">Control blocks used: </p>
        <div class="container" style="margin-left: 100px; margin-right: 100px">
            <div class="row">
                <div class="col-sm">
                    <h1>{{ project["stats"]["categories"]["control"] }}</h1>
                </div>
                <div class="col-sm">
                    <h1>{{ studio["stats"]["mean"]["block_categories"]["control"]|twodec }}</h1>
                </div>
                <div class="col-sm">
                    <h1>{{ studio["stats"]["max"]["block_categories"]["control"] }}</h1>
                </div>
                <div class="col-sm">
                    <h1>{{ studio["stats"]["min"]["block_categories"]["control"] }}</h1>
                </div>
            </div>
        </div>

        <div class="container" style="margin-left: 100px; margin-right: 100px">
            <div class="row">
                <div class="col-sm">
                    <p>In your project</p>
                </div>
                <div class="col-sm">
                    <p>In others' projects <br>(on average)</p>
                </div>
                <div class="col-sm">
                    <p>In the project with <br> the largest number</p>
                </div>
                <div class="col-sm">
                    <p>In the project with <br> the fewest number</p>
                </div>
            </div>
        </div>

        <p class="block" style="text-align: center">Great job today! How might you apply what you learned today for tomorrow?</p>
        
        <!-- <table class="table">
            <thead>
                <tr>
                    <th>Block category</th>
                    <th>Your project</th>
                    <th>Mean</th>
                    <th>Minimum</th>
                    <th>Maximum</th>
                </tr>
            </thead>
            <tbody>
                {% for cat in project["stats"]["categories"] %}
                <tr>
                    <td>{{ cat }}</td>
                    <td>{{ project["stats"]["categories"][cat] }}</td>
                    <td>{{ studio["stats"]["mean"]["block_categories"][cat]|twodec }}</td>
                    <td>{{ studio["stats"]["min"]["block_categories"][cat] }}</td>
                    <td>{{ studio["stats"]["max"]["block_categories"][cat] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table> -->
        {% else %}
        <p>Once we can compare your project to the studio it&rsquo;s in, we&rsquo;ll give you some feedback!</p>
        {% endif %}
    </div>
</div>

<script src="https://scratchblocks.github.io/js/scratchblocks-v3.4-min.js"></script>
    <script>
        scratchblocks.renderMatching('code.project', {inline: false, style:"scratch3"});
        scratchblocks.renderMatching('code.comparison', {inline: false, style:"scratch3"});
        scratchblocks.renderMatching("code.conditional1", {inline: false, style:"scratch3"});
        scratchblocks.renderMatching("code.conditional2", {inline: false, style:"scratch3"});
        scratchblocks.renderMatching("code.conditional3", {inline: false, style:"scratch3"});
        scratchblocks.renderMatching("code.conditional4", {inline: false, style:"scratch3"});
    </script>
{% endblock %}